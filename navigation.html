<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        const navigation = window.navigator

        const getPointion = async () => {
            const getLocation = () => {
                return new Promise((resolve, reject) => {
                    navigation.geolocation.getCurrentPosition(
                        position => resolve(position),
                        error => {
                            // 更详细的错误处理
                            let errorMessage;
                            switch (error.code) {
                                case error.PERMISSION_DENIED:
                                    errorMessage = "用户拒绝了位置请求";
                                    break;
                                case error.POSITION_UNAVAILABLE:
                                    errorMessage = "位置信息不可用";
                                    break;
                                case error.TIMEOUT:
                                    errorMessage = "获取位置请求超时";
                                    break;
                                default:
                                    errorMessage = "未知错误";
                                    break;
                            }
                            console.log(`错误代码: ${error.code}, 错误信息: ${errorMessage}`);
                            reject({ ...error, message: errorMessage });
                        },
                        {
                            timeout: 30000, // 增加超时时间到30秒
                            enableHighAccuracy: true,
                            maximumAge: 0 // 不使用缓存的位置
                        }
                    )
                })
            }

            try {
                console.log("正在获取地理位置...");
                const position = await getLocation()
                console.log(position, '地理位置信息')
            } catch (error) {
                console.log(error, '获取地理位置失败')
            }

        }

        const init = async () => {
            console.log(navigation)
            console.log(navigation.appName, '浏览器名称')
            console.log(navigation.appCodeName, '浏览器代号')
            console.log(navigation.appVersion, '浏览器版本')
            console.log(navigation.platform, '操作系统')
            console.log(navigation.userAgent, '浏览器信息')
            console.log(navigation.language, '语言')
            console.log(navigation.cookieEnabled, 'cookie')
            console.log(navigation.doNotTrack, '是否禁止跟踪')
            console.log(navigation.onLine, '是否在线')
            console.log(navigation.maxTouchPoints, '最大触摸点数')
            console.log(navigation.hardwareConcurrency, 'cpu核数')
            console.log(navigation.mimeTypes, '浏览器支持的mime类型')
            console.log(navigation.plugins, '浏览器插件')
            console.log(navigation.javaEnabled(), 'java是否可用')
            console.log(navigation.javaEnabled(), 'java是否可用')
            console.log(navigation.hardwareConcurrency, 'cpu核数')
            console.log(navigation.buildId, '浏览器版本')
            console.log(navigation.deviceMemory, '设备内存')
            console.log(navigation.mediaDevices, '媒体设备')
            console.log(navigation.oscpu, 'cpu信息')
            console.log(navigation.platform, '操作系统')
            console.log(navigation.vendor, '浏览器厂商')
            console.log(navigation.vendorSub, '浏览器厂商子品牌')
            console.log(navigation.webdriver, '是否是webdriver')
            await getPointion()

            console.log(navigation.clipboard, '剪贴板')
            console.log(navigation.cookieStore, 'cookie')
            console.log(navigation.cpuClass, 'cpu类型')
            console.log(navigation.deviceMemory, '设备内存')
            console.log(navigation.fonts, '字体')
            console.log(await navigation.getBattery(), '电池')
        }
        init()

    </script>
</body>

</html>